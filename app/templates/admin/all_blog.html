{% extends "admin/admin_dashboard.html" %}
{% block admincenter %}

<style>
    .blog-card {
        background: #111827;
        border-radius: 14px;
        padding: 20px;
        margin-bottom: 20px;
        box-shadow: 0 5px 25px rgba(0,0,0,0.4);
    }

    .blog-author {
        font-size: 14px;
        color: #9CA3AF;
    }

    .blog-title {
        font-size: 20px;
        color: #1DA1F2;
        margin: 10px 0;
    }

    .blog-description {
        color: #D1D5DB;
        line-height: 1.6;
    }

    .blog-image {
        width: 20%;
        border-radius: 10px;
        margin-top: 15px;
    }

    .blog-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 15px;
    }

    .likes {
        color: #9CA3AF;
    }
</style>

{% for blog in blogs %}
<div class="blog-card">
    <div class="blog-author">
        Posted by <strong>{{ blog.user.username }}</strong>
    </div>

    <div class="blog-title">{{ blog.title }}</div>

    <div class="blog-description">
        {{ blog.description }}
    </div>

    {% if blog.image_path %}
        <img src="{{ url_for('static', filename=blog.image_path) }}" class="blog-image">
    {% endif %}

    <div class="blog-footer">
        <span class="likes">❤️ {{ blog.likes|length }} likes</span>

        <form method="POST" action="{{ url_for('admin.blogs') }}"
              onsubmit="return confirm('Delete this blog?');">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
            <button name="delete" value="{{ blog.id }}" class="btn-danger">
                Delete
            </button>
        </form>
    </div>
</div>
{% endfor %}

{% endblock %}
